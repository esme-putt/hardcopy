<div class="terminal-nav mb-4">
  <div class="terminal-nav-brand">
    <%= link_to root_path, class: "terminal-nav-brand" do %>
      // HARDCOPY
    <% end %>
  </div>
  <div class="terminal-nav-links">
    <%= link_to "home", root_path, class: "terminal-nav-link #{current_page?(root_path) ? 'active' : ''}" %>
    <%= link_to "shop", products_path, class: "terminal-nav-link #{controller_name == 'products' && action_name == 'index' ? 'active' : ''}" %>
    <%= link_to "weekly-fix", weekly_fix_path, class: "terminal-nav-link #{controller_name == 'posts' ? 'active' : ''}" %>
    <%= link_to "about", about_path, class: "terminal-nav-link #{current_page?(about_path) ? 'active' : ''}" %>
    
    <% if current_user %>
      <div class="terminal-nav-link">
        <span class="me-2"><%= current_user.name.downcase %></span>
        <span class="dropdown">
          <a class="dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
            <i class="fas fa-user-circle"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <% if current_user.admin? %>
              <li><%= link_to "admin_panel", admin_path, class: "dropdown-item" %></li>
              <li><hr class="dropdown-divider"></li>
            <% end %>
            <li><%= link_to "my_orders", orders_path, class: "dropdown-item" %></li>
            <li><%= link_to "logout", logout_path, method: :delete, class: "dropdown-item" %></li>
          </ul>
        </span>
      </div>
    <% else %>
      <%= link_to "login", login_path, class: "terminal-nav-link" %>
      <%= link_to "sign_up", signup_path, class: "terminal-nav-link" %>
    <% end %>
    
    <%= link_to cart_path, class: "terminal-nav-link position-relative" do %>
      <i class="fas fa-shopping-cart"></i>
      <% if session[:cart].present? && session[:cart].any? %>
        <span class="badge bg-danger position-absolute" style="top: -8px; right: -8px;">
          <%= session[:cart].values.sum %>
        </span>
      <% end %>
    <% end %>
  </div>
</div>